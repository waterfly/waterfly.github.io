(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{540:function(t,i,e){"use strict";e.r(i);var n=e(2),a=Object(n.a)({},(function(){var t=this,i=t._self._c;return i("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[i("p"),i("div",{staticClass:"table-of-contents"},[i("ul",[i("li",[i("a",{attrs:{href:"#导航栏titleview在ios11上不显示"}},[t._v("导航栏TitleView在iOS11上不显示")])])])]),i("p"),t._v(" "),i("p",[t._v("[TOC]")]),t._v(" "),i("h1",{attrs:{id:"导航栏titleview在ios11上不显示"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#导航栏titleview在ios11上不显示"}},[t._v("#")]),t._v(" 导航栏TitleView在iOS11上不显示")]),t._v(" "),i("p",[t._v("今天遇到一个奇怪的问题，xib上有一个view，然后在.m内指定其为titleView，发现没出来，经过检测，发现其宽度为1")]),t._v(" "),i("p",[t._v("代码为：")]),t._v(" "),i("div",{staticClass:"language-objective-c extra-class"},[i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[t._v("// self.vNavigationTitle 为 xib上的一个顶级view，其属性设置为strong\n\n//在.m文件内将其赋值给 titleView\nself.navigationItem.titleView = self.vNavigationTitle;\n")])])]),i("p",[t._v("经过查查资料，发现")]),t._v(" "),i("blockquote",[i("p",[t._v("在iOS 11 中苹果改变了UINavigationBar的视图层级，titleView不是加到NavigationBar上，而是加到了UINavigationBarContentView上，这就是原因所在。")])]),t._v(" "),i("p",[t._v("也就是说需要布局都是通过constraint来控制，所以需要自建一个view，然后指定其 intrinsicContentSize，然后就能愉快的正常显示了。")]),t._v(" "),i("div",{staticClass:"language-objective-c extra-class"},[i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[t._v("//实现view的 intrinsicContentSize\n@interface BarView : UIView\n@end\n@implementation BarView\n-(CGSize)intrinsicContentSize{\n    return UILayoutFittingExpandedSize;\n}\n@end\n\n\n")])])])])}),[],!1,null,null,null);i.default=a.exports}}]);